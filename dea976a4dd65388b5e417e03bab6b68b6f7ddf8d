{
  "comments": [
    {
      "key": {
        "uuid": "9ab8dda7_b3050316",
        "filename": "deploy/tempest.py",
        "patchSetId": 7
      },
      "lineNbr": 92,
      "author": {
        "id": 3903
      },
      "writtenOn": "2017-03-16T11:14:51Z",
      "side": 1,
      "message": "change into:\n            if \u0027env\u0027 in conf and conf[\u0027env\u0027] \u003d\u003d 0:\n                build_pxe_only(cluster_id)\n            else:\n                build_pxe_with_ipmi(cluster_id)",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 92,
        "endChar": 42
      },
      "revId": "dea976a4dd65388b5e417e03bab6b68b6f7ddf8d",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_d302f70a",
        "filename": "deploy/tempest.py",
        "patchSetId": 7
      },
      "lineNbr": 100,
      "author": {
        "id": 3903
      },
      "writtenOn": "2017-03-16T11:14:51Z",
      "side": 1,
      "message": "change into:\n          install_daisy(cluster_id)",
      "range": {
        "startLine": 94,
        "startChar": 0,
        "endLine": 100,
        "endChar": 52
      },
      "revId": "dea976a4dd65388b5e417e03bab6b68b6f7ddf8d",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_86043f16",
        "filename": "deploy/tempest.py",
        "patchSetId": 7
      },
      "lineNbr": 113,
      "author": {
        "id": 3903
      },
      "writtenOn": "2017-03-16T11:30:32Z",
      "side": 1,
      "message": "I would like to remind the design here:\n\nbuild_pxe_only, build_pxe_with_ipmi and install_daisy are just  three wrappers of the client.install.install API. They use different combinations of \"pxe_only\" and \"skip_pxe_ipmi\" argument value do execute different parts of  client.install.install API. The mapping shows below:\n                     \"pxe_only\" \"skip_pxe_ipmi\"  execute code\nbuild_pxe_only()       True          False           pxe\nbuild_pxe_with_ipmi()  False         False          pxe+ipmi\ninstall_daisy()       ignored         True          install\n\nSo for V/M deployment ,we do build_pxe_only() + virsh + install_daisy() , while for B/M, we do build_pxe_with_ipmi() +install_daisy().\n\nPlease make sure that your change and the  client.install.install are both follow the design above!",
      "revId": "dea976a4dd65388b5e417e03bab6b68b6f7ddf8d",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_5317e751",
        "filename": "deploy/tempest.py",
        "patchSetId": 7
      },
      "lineNbr": 117,
      "author": {
        "id": 3903
      },
      "writtenOn": "2017-03-16T11:14:51Z",
      "side": 1,
      "message": "change into:\ndef build_pxe_only(cluster_id):\n    cluster_meta \u003d {\u0027cluster_id\u0027: cluster_id,\n                    \u0027pxe_only\u0027: \"true\"\n                    \u0027skip_pxe_ipmi\u0027: \"false\"}\n    client.install.install(**cluster_meta)",
      "range": {
        "startLine": 114,
        "startChar": 0,
        "endLine": 117,
        "endChar": 42
      },
      "revId": "dea976a4dd65388b5e417e03bab6b68b6f7ddf8d",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_1322cfb9",
        "filename": "deploy/tempest.py",
        "patchSetId": 7
      },
      "lineNbr": 118,
      "author": {
        "id": 3903
      },
      "writtenOn": "2017-03-16T11:14:51Z",
      "side": 1,
      "message": "Add this method:\n\ndef build_pxe_with_ipmi(cluster_id):\n    cluster_meta \u003d {\u0027cluster_id\u0027: cluster_id,\n                    \u0027pxe_only\u0027: \"false\"\n                    \u0027skip_pxe_ipmi\u0027: \"false\"}\n    client.install.install(**cluster_meta)",
      "revId": "dea976a4dd65388b5e417e03bab6b68b6f7ddf8d",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ab8dda7_13096f31",
        "filename": "deploy/tempest.py",
        "patchSetId": 7
      },
      "lineNbr": 123,
      "author": {
        "id": 3903
      },
      "writtenOn": "2017-03-16T11:14:51Z",
      "side": 1,
      "message": "change into:\ndef install_daisy(cluster_id):\n    cluster_meta \u003d {\u0027cluster_id\u0027: cluster_id,\n                    \u0027skip_pxe_ipmi\u0027: \"True\"}\n    client.install.install(**cluster_meta)",
      "range": {
        "startLine": 120,
        "startChar": 0,
        "endLine": 123,
        "endChar": 42
      },
      "revId": "dea976a4dd65388b5e417e03bab6b68b6f7ddf8d",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    }
  ]
}